## 项目心得


### 导航的懒加载

一种格格家的首页懒加载思路：

* 每个子页面添加MJ的下拉刷新，在初始化页面的时候调用`MJRefresh`的`beginRefreshing`方法实现请求API。
* 在每个子页面初始化的时候，因为还未显示`MJRefresh`,所以`beginRefreshing`无法立即执行；
* 当点击tabar展示对应的自控制器的view的时，就会调用`beginRefreshing`，从而实现懒加载



### 父子控制器

![](https://i.loli.net/2018/11/01/5bda6e1f95c7b.jpg)

发现在父子控制器层级中，viewWillAppear  viewDidAppear的顺序是

* 父控制器-viewWillAppear
* 子控制器-viewWillAppear
* 子控制器-viewDidAppear
* 父控制器-viewDidAppear

![](https://i.loli.net/2018/11/01/5bda6d5712fd0.jpg)
![](https://i.loli.net/2018/11/01/5bda6d752be2f.jpg)

![](https://i.loli.net/2018/11/01/5bda6d4b26216.jpg)

也就是说父控制器先初始化，会等其子控制完全显示后再调用viewDidAppear方法



